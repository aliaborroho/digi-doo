define("util/validators/validationExpressions",[],function(){"use strict";var a={validUrlReg:/^(?:(?:ftps?:|https?:)?\/\/)?(?:(?:[\u0400-\uA69F\w][\u0400-\uA69F\w-]*)?[\u0400-\uA69F\w]\.)+(?:[\u0400-\uA69Fa-z]+|\d{1,3})(?::[\d]{1,5})?(?:[/?#].*)?$/i,invalidUrlCharacters:/[^A-Za-z0-9-]/g,validYouTubeLongUrlReg:/(?:youtube\.com\/watch[^\s]*[\?&]v=)([\w-]+)/,validYouTubeShortUrlReg:/(?:youtu\.be\/)([\w-]+)/,validVimeoUrlReg:/vimeo\.com\/(\d+)$/,validVideoUrlReg:/^(http:|https:|)\/\/(player.|www.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com))\/(video\/|embed\/|watch\?v=|v\/|^\/)?([A-Za-z0-9._%-]*)(\&\S+)?/,validEmailReg:/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,validPinItUrl:/^https:\/\/?www\.pinterest\.com\/pin\/\d+\/*$/,validatePinterestUrl:/^(https?:\/\/)?www\.pinterest\.com\/[^&%$#*?\\_=+.!<>|]+\/?$/,validTwitterUser:/^@?[a-zA-Z0-9_%]{1,15}$/,validNumericValueReg:/^[0-9]+(\.[0-9]+)?$/,validFacebookPageId:/[^\w\.]/,validDisqusId:/^[a-zA-Z0-9_-]+$/};return Object.freeze(a)}),define("util/validators/textinputValidators",["lodash","util/validators/validationExpressions"],function(a,b){"use strict";return{email:function(a){return a?b.validEmailReg.test(a):!0},url:function(a){return b.validUrlReg.test(a)},range:function(b,c){return function(d){return!a.isUndefined(d)&&d.length>=b&&d.length<=c}},number:function(c){return!a.isEmpty(c)&&b.validNumericValueReg.test(c)},videoUrl:function(a){return b.validVideoUrlReg.test(a)},videoUrlDifferentFormats:function(a){return b.validYouTubeLongUrlReg.test(a)||b.validYouTubeShortUrlReg.test(a)||b.validVimeoUrlReg.test(a)},pinterestPinLink:function(a){return b.validPinItUrl.test(a.trim().toLowerCase())},pinterestFollowUrl:function(a){return b.validatePinterestUrl.test(a.trim())},twitterUser:function(a){return b.validTwitterUser.test(a.trim().toLowerCase())},facebookLink:function(a){return!b.validFacebookPageId.test(a)},disqusId:function(a){return b.validDisqusId.test(a.toLowerCase())},notEmpty:function(b){return!a.isEmpty(b)},noHTMLTags:function(a){return!/<|>/.test(a)},byInvalidCharacters:function(a){return function(b){var c=new RegExp(a);return!c.test(b)}},rangeOfWords:function(b,c){return function(d){var e=d&&d.split(/\W+/);return!a.isUndefined(e)&&e.length>=b&&e.length<=c}},notEmptyString:function(a){return!/^\s*$/.test(a)}}}),define("util/validators/validate",["lodash","util/validators/textinputValidators"],function(a,b){"use strict";return a.merge({},b)}),define("util/link/linkRenderer",["lodash","util/validators/validate"],function(a,b){"use strict";function c(a,b){var c=0===b.indexOf("#")?b.substr(1):b;return a.pages.isPageExist(c)?a.pages.data.get(c):null}var d={externallink:function(a,c){return b.url(c.url)?c.url:""},pagelink:function(a,b){var d=c(a,b.pageId);return d?"Page - "+d.title:""},anchorlink:function(a,b){var e,f,g,h,d=c(a,b.pageId);return d?(e=b.anchorDataId,f=e.indexOf("SCROLL")<0&&b,g=f&&f.name||b.anchorName,h=d.title,"Anchor ("+g+(h?", Page: "+h:"")+")"):f&&f.name||b.anchorName||""},emaillink:function(a,b){var c=b.recipient;return c?"Email - "+c:""},documentlink:function(a,b){return"Document - "+b.name},logintowixlink:function(){return"Login / Signup Dialog"}};return{renderLinkDataItemForPropertyPanel:function(a,b){var c=b.type.toLowerCase();return d[c]?d[c](a,b):""}}}),define("util/utils/string",[],function(){"use strict";return{capitalize:function(a,b){return a.charAt(0).toUpperCase()+(b?a.slice(1).toLowerCase():a.slice(1))},startsWith:function(a,b,c){return a?c?0===a.toLowerCase().indexOf(b.toLowerCase()):0===a.indexOf(b):!1},isNullOrEmpty:function(a){return!a||!a.trim()},removeHtmlTagsFromString:function(a){return a.replace(/<[^<]*>/g,"")},removeBreakLinesFromString:function(a){return a.replace(/[\n\r]/g," ")},isTrue:function(a){return"true"===a}}}),define("util/url/url",["lodash","pLoader!santa:utils","util/utils/string"],function(a,b,c){"use strict";function d(a){var b=/^(ftps|ftp|http|https):.*$/.test(a),c=/^\/\//.test(a);return b?a:c?"http:"+a:"http://"+a}function e(a){return Object.keys(a).map(function(b){return f(b,a[b])}).join("&")}function f(b,c){return c?a.isArray(c)?c.map(function(a){return encodeURIComponent(b)+"="+encodeURIComponent(a)}).join("&"):encodeURIComponent(b)+"="+encodeURIComponent(c):"number"==typeof c?encodeURIComponent(b)+"="+encodeURIComponent(c):encodeURIComponent(b)}function g(a){var b=k(a);return b.protocol+"//"+b.host}function i(){return(new Date).getTime().toString()+h++}function j(){h=0}function k(a){if(!a)return{};var b=/((https?\:)\/\/)?([^\?\:\/#]+)(\:([0-9]+))?(\/[^\?\#]*)?(\?([^#]*))?(#.*)?/i,c=a.match(b),d=c[5]||"",e=c[8]?"?"+c[8]:"",f={full:a,protocol:c[2]||"http:",host:c[3]+(d?":"+d:""),hostname:c[3],port:d,path:c[6]||"/",search:e,query:{},hash:c[9]||""};return("#"===f.hash||"#!"===f.hash)&&(f.hash=""),f.query=l(c[8]),f}function l(b){for(var d,c=/([^&=]+)=([^&]*)/g,e={};null!==(d=c.exec(b));){var f=decodeURIComponent(d[1]),g=decodeURIComponent(d[2]);e[f]?a.isArray(e[f])?e[f].push(g):e[f]=[e[f],g]:e[f]=g}return e}function m(b,d,e){var f=b.split("?"),g=[],h=!1;return f.length>1&&(g=f[1].split("&"),a.find(g,function(a,b,f){return c.startsWith(a,d+"=")?(f[b]=d+"="+String(e),h=!0,!0):void 0})),h||g.push(d+"="+String(e)),f[1]=g.join("&"),b=f.join("?")}function n(b,c){var d=b;return a.forEach(c,function(a,b){d=m(d,b,a)}),d}function o(b){b.search&&(b.search=b.search.replace(/^[?]/,""));var c=b.search||e(b.query||{});if(c){var d=a.contains(b.path,"?")?"&":"?";c=d+c}return b.protocol+"//"+b.hostname+(b.port?":"+b.port:"")+b.path+(c||"")+b.hash}function p(a){return/(^https?)|(^data)/.test(a)}function q(a,b){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var c=new RegExp("[\\?&]"+a+"=([^&#]*)","i"),d=c.exec(b||location.search);return null===d?"":decodeURIComponent(d[1].replace(/\+/g," "))}function r(a,b){return c.isTrue(q(a,b).toLowerCase())}var h=0;return{addProtocolIfMissing:d,toQueryString:e,toQueryParam:f,baseUrl:g,cacheKiller:i,resetCacheKiller:j,setUrlParam:m,setUrlParams:n,isExternalUrl:p,parseUrl:k,parseUrlParams:l,buildFullUrl:o,getParameterByName:q,isTrue:r,joinURL:b.urlUtils.joinURL}}),define("util/url/UrlBuilder",["lodash"],function(a){"use strict";function b(a,b){this._base=a,this.params=b||{}}return b.prototype.base=function(a){return this._base=a,this},b.prototype.param=function(a,b){return this.params[a]=b,this},b.prototype.ifParam=function(a,b,c){return a?this.param(b,c):this},b.prototype.paramsObj=function(b){return this.params=a.assign(this.params,b),this},b.prototype.url=function(){var b=a(this.params).pairs().map(function(a){return a.join("=")}).value().join("&");return b&&(b="?"+b),this._base+b},b}),define("util/jsUtils/jsUtils",[],function(){"use strict";function a(a){if(a instanceof Array)return a;if("string"==typeof a)return a.split(".");throw new Error("pathElements passed to setDeepPath/getDeepPath must be an Array or a String!")}function b(b,c,d){c=a(c);for(var e;c.length>1;){if(e=c.shift(),void 0===b[e]&&(b[e]={},void 0===b[e]))return void 0;b=b[e]}return e=c.shift(),b[e]=d,b[e]}function c(b,c){for(c=a(c);c.length;){if(!b)return void 0;b=b[c.shift()]}return b}return{setDeepPath:b,getDeepPath:c}}),define("util/utils/guid",["lodash"],function(a){"use strict";function e(a,d){a=a||"",d=d||"";var e=Date.now();return e===b?c++:(b=e,c=0),a+d+Number(b).toString(36)+(c?c:"")}function f(a){var b=16*Math.random()|0,c="x"===a?b:3&b|8;return c.toString(16)}function g(){return d.replace(/[xy]/g,f)}function h(b){var c=new Array(4).join().replace(/(.|$)/g,function(){return(36*Math.random()|0).toString(36)});return a.contains(b,c)?h(b):c}var b,c=0,d="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx";return{generateNewPageId:h,getUniqueId:e,getGUID:g}}),define("util/utils/cookie",[],function(){"use strict";function a(a){for(var b={},c=a.split(/;\s*/),d=0,e=c.length;e>d;d++){var f=c[d].split("=");b[f[0]]=f[1]}return b}function b(b){if("undefined"==typeof document)return void 0;var c=a(document.cookie);return c[b]}function c(a,b,c,d,e,f){if("undefined"!=typeof document){var g=a+"="+b;c&&(g+=";expires=",g+="number"==typeof c?new Date((new Date).getTime()+c).toGMTString():new Date(c).toGMTString()),g+=";path="+(e||"/"),d&&(g+=";domain="+d),f&&(g+=";secure"),document.cookie=g}}function d(a,b,d){"undefined"!=typeof document&&(b=b||(document?document.location.host:""),c(a,"","Thu, 01-Jan-1970 00:00:01",b,d||"/"))}return{parseCookieString:a,setCookie:c,getCookie:b,deleteCookie:d}}),define("util/utils/animationFrame",[],function(){"use strict";var a="undefined"!=typeof window?window:{},b=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||function(a){return setTimeout(a,1e3/60)},c=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.mozCancelAnimationFrame||a.oCancelAnimationFrame||a.msCancelAnimationFrame||clearTimeout;return{request:function(){return b.apply(a,arguments)},cancel:function(){return c.apply(a,arguments)}}}),define("util/utils/classNames",[],function(){"use strict";return{inheritClassName:function(a,b){return(b?b:"")+(a.className?" "+a.className:"")}}}),define("util/props/propTypesFilterMixin",["react","lodash"],function(a,b){"use strict";return{filteredProps:function(){return b.omit(this.props,b.keys(this.constructor.propTypes))},getContentProps:function(){var a=this.filteredProps();return a.headerTitle=a.title,b.omit(a,"title")}}}),define("util/bi/events.json",[],function(){return{REMOVE_COMPONENT_SECOND_STEP_CLICK:{evid:280,src:38,endpoint:"editor",fields:{app_id:"string",app_site_id:"string",instance_id:"string",is_last_tpa:"number",component_id:"string",component_type:"string",removal_method:"string"}},OPEN_MARKET_CLICK:{evid:164,src:38,endpoint:"editor",fields:{is_first:"boolean",num_pending_apps:"number",referral_info_category:"string",referral_info:"string"}},COMPONENT_REMOVED:{evid:170,fields:{app_id:"guid",app_site_id:"guid",component_id:"string",component_type:"string",instance_id:"guid",is_last_tpa:"bool",removal_method:"string"}}}}),define("util/bi/errors.json",[],function(){return{TRANSLATION_ERROR:{errorCode:200,errorName:"TRANSLATION_ERROR",desc:"error translating text with parameters",severity:"warning",fields:{p1:"string"}}}}),define("util/bi/bi",["util/bi/events.json","util/bi/errors.json"],function(a,b){"use strict";var c=function(b){b.bi.register("util","event",a)};return{events:a,errors:b,registerEvents:c}}),define("util/translation/translate",["json!langs","lodash","util/bi/bi"],function(a,b,c){"use strict";function h(a,b){return a.replace(/\{(\d+)\}/g,function(a,c){return void 0===b[c]?a:b[c]})}function j(a){if(!a)return null;var b=a.toLowerCase(),c=i[b];if(c){if(arguments.length>1){var e=d.call(arguments,1);return h(c,e)}return c}return g(a)}var d=Array.prototype.slice,e=[],f=function(){e.push(d.call(arguments))},g=function(){var a=function(){};"undefined"!=typeof window&&window.queryUtil&&window.queryUtil.isParameterTrue("isqa")?a=function(a){var b=encodeURIComponent(a),c="http://itayjiraapp.appspot.com/api/v1/santa/missingkey?key="+b,d="GET",e=new XMLHttpRequest,f=function(){4===e.readyState&&(200===e.status||304===e.status||console.log("failed to report missing key:"+a))};e.open(d,c,!0),e.onreadystatechange=f,e.send(null)}:c&&(a=function(a){f(c.errors.TRANSLATION_ERROR,{p1:a})});var b={};return function(c){return b[c]||(b[c]=!0,a(c)),"!"+c+"!"}}(),i=b.object(b.map(a,function(a,b){return[b.toLowerCase(),a]}));return j.init=function(a){f=a.bi.error,e.forEach(function(a){f.apply(null,a)}),e.length=0},j}),define("util/translation/translationMixin",["util/translation/translate","react","lodash","util/bi/bi"],function(a,b,c,d){"use strict";return{propTypes:{shouldTranslate:b.PropTypes.bool},getDefaultProps:function(){return{shouldTranslate:!0}},translateIfNeeded:function(b){return this.props.shouldTranslate?a(b):b},translateTemplate:function(a,b,e){var f=this.translateIfNeeded(a),g=c.every(b,function(a,b){return c.contains(f,b)});if(g)try{f=c.template(f)(b)}catch(h){if(e){var i={p1:a,p2:f};e.bi.error(d.errors.TRANSLATION_ERROR,i)}}return f}}}),define("util/postMessage/postMessageMixin",["lodash"],function(a){"use strict";return{componentWillMount:function(){this.handlers={}},componentWillUnmount:function(){a.each(this.handlers,function(a,b){this.clearPastMessageHandlerNamed(b)},this)},setPostMessageHandler:function(a,b){this.setPostMessageHandlerNamed("default",a,b)},setPostMessageHandlerNamed:function(a,b,c){this.handlers.hasOwnProperty(a)&&this.clearPastMessageHandlerNamed(a);var d=function(a){var d;try{d=JSON.parse(a.data)}catch(e){return}(d.id===b||null===b&&void 0===d.id)&&c(d)};window.addEventListener("message",d,!1),this.handlers[a]=d},clearPastMessageHandlerNamed:function(a){this.handlers[a]&&(window.removeEventListener("message",this.handlers[a],!1),delete this.handlers[a])}}}),define("util/math/math",["lodash"],function(a){"use strict";function b(a,b,c){return a>100||0>a||b>c?(console.error("percent is invalid of range or range error"),null):b+(c-b)*a/100}function c(a,b,c){if(a>c||b>a||b>c)return console.error("value is out of range or range error"),null;var d=c-b;return 100*(a-b)/d}function d(b,c,d){return c=a.isUndefined(c)?b:c,d=a.isUndefined(d)?b:d,c>d&&(d=c+100),c>b?c:b>d?d:b}return{valueFromPercent:b,percentFromValue:c,ensureWithinLimits:d}}),define("util/mixins/draggableMixin",["jquery","lodash","util/math/math","util/utils/animationFrame"],function(a,b,c,d){"use strict";function h(){this.setState({isCustomPosition:!0});var a=this.draggable;a.pendingFrameRequest=0;var b=a.limits,d=a.event.pageX-window.pageXOffset-a.relPosition.x;d=c.ensureWithinLimits(d,b.x[0],b.x[1]-a.nodeSizes.width);var e=a.event.pageY-window.pageYOffset-a.relPosition.y;e=c.ensureWithinLimits(e,b.y[0],b.y[1]-a.nodeSizes.height),a.nodePosition.x=d,a.nodePosition.y=e,a.element.offset({left:d+window.pageXOffset,top:e+window.pageYOffset})}function i(){e.off(".draggable");var a=this.draggable;g(a.pendingFrameRequest),a.pendingFrameRequest=0,this.onDragEnd&&this.onDragEnd({left:a.nodePosition.x,top:a.nodePosition.y}),a.element=void 0}var e=a(document),f=d.request,g=d.cancel;return{getInitialState:function(){return this.draggable={},{isCustomPosition:!1}},startDrag:function(c,d,f){var g=this.draggable;g.limits={x:[],y:[]},g.element=a(b.isObject(f)&&f.getDOMNode()||this.getDOMNode()),"string"!=typeof d&&b.assign(g.limits,d);var h=g.element.offset();g.nodePosition={y:h.top-window.pageYOffset,x:h.left-window.pageXOffset},g.relPosition={x:c.pageX-window.pageXOffset-g.nodePosition.x,y:c.pageY-window.pageYOffset-g.nodePosition.y},g.nodeSizes={height:g.element.height(),width:g.element.width()},g.event={},e.on({"mousemove.draggable":this.onDrag,"mouseup.draggable":this.endDrag}),this.onDragStart&&this.onDragStart()},onDrag:function(a){var b=this.draggable;return b.event.pageX=a.pageX,b.event.pageY=a.pageY,b.pendingFrameRequest||(b.pendingFrameRequest=f(h.bind(this))),!1},endDrag:function(){i.call(this)},componentWillUnmount:function(){this.draggable.element&&i.call(this)}}}),define("util/imageService/imageTransform",["pLoader!santa:utils"],function(a){"use strict";function b(b,c,d,e){var f;f="undefined"==typeof window?"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_9_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/41.0.2272.89 Safari/537.36":window.navigator.userAgent;var g=a.browserDetection(f);return d.width=parseInt(d.width,10),d.height=parseInt(d.height,10),a.imageTransform.getData(b,c,d,e,g.browser)}function c(b,c,d){return b.width>0&&b.width<=c&&b.height>0&&b.height<=d?a.imageTransform.fittingTypes.SCALE_TO_FIT:b.width<=b.height?a.imageTransform.fittingTypes.SCALE_TO_FIT:b.height<d?a.imageTransform.fittingTypes.SCALE_TO_FIT:a.imageTransform.fittingTypes.SCALE_TO_FILL}return{getData:b,fittingTypes:a.imageTransform.fittingTypes,alignTypes:a.imageTransform.alignTypes,getImageScale:c}}),define("util/video/youtubeVideoUtils",["lodash","jquery"],function(a,b){"use strict";function g(a){return"http://www.youtube.com/watch?v="+a}function h(a,b){b("http://img.youtube.com/vi/"+a+"/0.jpg")}function i(a){var b=/(?:youtube\.com\/watch[^\s]*[\?&]v=)([\w-]+)/g,c=/(?:youtu\.be\/)([\w-]+)/g,d=b.exec(a)||c.exec(a);return d&&d.length&&d[1]?d[1]:void 0}function j(c,d,g){var h=i(c);return h?void b.ajax({url:e,data:{key:f,part:"snippet",id:h},success:function(b){b&&!a.isEmpty(b.items)?d(c):g()},error:g}):void g()}function k(e,g,h){b.ajax({url:c,data:{key:f,forUsername:e,part:"id"},error:h,success:function(c){b.ajax({url:d,data:{key:f,part:"snippet",channelId:(a.first(c.items)||{}).id},success:function(a){g(a.items[0].id.videoId)},error:h})}})}var c="https://www.googleapis.com/youtube/v3/channels",d="https://www.googleapis.com/youtube/v3/search",e="https://www.googleapis.com/youtube/v3/videos",f="AIzaSyC-CGohESUF9bCBy1jFRQYFOR-iwbsCYPg";return{verifyVideoUrl:j,getThumbnailUrl:h,getVideoUrl:g,getVideoIdFromUrl:i,getVideoIdFromChannelName:k}}),define("util/video/vimeoVideoUtils",["jquery"],function(a){"use strict";function b(b,c,d){a.ajax(b,{type:"GET",dataType:"jsonp",success:c,error:d})}function c(a){return"http://vimeo.com/"+a}function d(a,c,d){var e="http://vimeo.com/api/v2/video/"+a+".json";b(e,function(a){c(a[0].thumbnail_large)},d)}function e(a){var b=/vimeo\.com\/(\d+)$/gi,c=b.exec(a);return c&&c.length&&c[1]?c[1]:void 0}function f(a,c,d){var f=e(a);f||d();var g="http://vimeo.com/api/v2/video/"+f+".json";b(g,c,d)}return{verifyVideoUrl:f,getThumbnailUrl:d,getVideoUrl:c,getVideoIdFromUrl:e}}),define("util/video/videoUtils",["lodash","jquery","util/video/youtubeVideoUtils","util/video/vimeoVideoUtils"],function(a,b,c,d){"use strict";function f(a,b){return e[a.toUpperCase()]&&e[a][b]}function g(a,b,c){if(a.videoType&&a.videoId){var d=f(a.videoType,"getThumbnailUrl");d?d(a.videoId,b,c):c()}else c()}function h(a){if(a.videoType&&a.videoId){var b=f(a.videoType,"getVideoUrl");return b&&b(a.videoId)}}function i(b){var c;return a.forEach(e,function(d,e){var g=f(e,"getVideoIdFromUrl"),h=g&&g(b);return a.isEmpty(h)?void 0:(c={videoType:e,videoId:h},!1)}),c}function j(a,b,c){var d=i(a);if(d&&d.videoType&&d.videoId){var e=f(d.videoType,"verifyVideoUrl");e?e(a,b,c):c()}else c()}var e={YOUTUBE:c,VIMEO:d};return{verifyVideoUrl:j,getThumbnailUrl:g,getVideoUrl:h,getVideoDataFromUrl:i,getVideoIdFromChannelName:c.getVideoIdFromChannelName,videoTypes:{YOUTUBE:"YOUTUBE",VIMEO:"VIMEO"}}}),define("util/mixins/valueLinkMixin",["react"],function(a){"use strict";function d(d){if(void 0!==d.valueLink){var e=a.PropTypes.shape({value:a.PropTypes.any,requestChange:a.PropTypes.func}).apply(this,arguments);if(e instanceof Error)return e;if(void 0!==d.value)return new Error(b);if(void 0!==d.onChange)return new Error(c)}}var b="Cannot provide a valueLink and a value.",c="Cannot provide a valueLink and an onChange event.";return{propTypes:{value:a.PropTypes.any,onChange:a.PropTypes.func,valueLink:d},getValueFromProps:function(a){return a=a||this.props,void 0!==a.valueLink?a.valueLink.value:a.value},callOnChangeIfExists:function(a,b){var c=this.props.valueLink?this.props.valueLink.requestChange:this.props.onChange;c&&c(a,b)}}}),define("util/mixins/selectionMixin",["lodash"],function(a){"use strict";return{getInitialState:function(){return{checkedItems:{}}},clearSelection:function(){this.setState({checkedItems:{}})},toggle:function(a){var b=this.state.checkedItems;b[a]=!b[a],this.setState({checkedItems:b})},toggleAll:function(b){if(0===this.getSelectedIds().length){var c=a.transform(b,function(a,b){a[b]=!0},{});this.setState({checkedItems:c})}else this.setState({checkedItems:{}})},isSelected:function(a){return!!this.state.checkedItems[a]},getSelectedIds:function(){return a(this.state.checkedItems).pick(function(a){return a}).keys().value()}}}),define("util/mixins/outerClickMixin",["lodash"],function(a){"use strict";function d(){c||(document.addEventListener("mousedown",f),c=!0)}function f(c){for(var f,d=b.slice();e.length;)f=e.pop(),a.remove(d,{domNode:f.domNode});a.invoke(d,"listener",c)}function g(a){b.push(a),a.domNode.addEventListener("mousedown",function(){e.push(a)},!0)}function h(c){a.remove(b,{domNode:c.domNode})}var b=[],c=!1,e=[];return{componentDidMount:function(){if(!a.isFunction(this.onOuterClick))throw new Error("using the outerClickMixin requires specifying an onOuterClick function.Please see "+(this.constructor.displayName||"ReactCompositeComponent"));d(),g({domNode:this.getDOMNode(),listener:this.onOuterClick})},componentWillUnmount:function(){h({domNode:this.getDOMNode()})}}}),define("util/mixins/blockOuterScrollMixin",[],function(){"use strict";return{blockOuterScroll:function(a){var b=a.currentTarget,c=a.currentTarget.scrollHeight,d=c-a.currentTarget.offsetHeight,e=a.deltaY%3?a.deltaY:10*a.deltaY;b.scrollTop+e<=0?(b.scrollTop=0,a.preventDefault()):b.scrollTop+e>=d&&(b.scrollTop=d,a.preventDefault()),a.stopPropagation()}}}),define("util/mixins/imagesContainerMixin",["jquery"],function(a){"use strict";return{afterImagesLoad:function(b,c){function g(){e===f&&b()}if(c=c||a(this.getDOMNode())){var d=c.find("img"),e=d.length,f=0;d.each(function(){var b=a(this)[0].complete;b?(f++,g()):a(this).load(function(){f++,g()})})}}}}),define("util/editorModel/editorModel",[],function(){"use strict";return window.editorModel}),define("util/translation/languages",["lodash","util/url/url","util/translation/translate","util/editorModel/editorModel"],function(a,b,c,d){"use strict";var e=["da","de","en","es","fr","it","ja","ko","nl","no","pl","pt","ru","sv","tr"],f=["da","de","en","es","fr","it","ja","ko","nl","no","pl","pt","ru","sv","tr"],g=["da","de","en","es","fr","it","ja","kr","nl","no","pl","pt","ru","sv","tr"],h=["da","de","en","es","fr","it","ja","nl","no","pl","pt","ru","sv","tr"],i=["da","de","en","es","fr","it","jp","ko","nl","no","pl","pt","ru","sv","tr"],j=["da","de","en","es","fr","it","ja","ko","nl","no","pl","pt","ru","sv","tr"],k="Supported_Languages_",l=a.map(e,function(a){return{value:a,label:c(k+a.toUpperCase())}});return{getLanguagesList:function(){return l},getTwitterLanguages:function(){return f},getFacebookLanguages:function(){return g},getITunesLanguages:function(){return i},getPaypalLanguages:function(){return h},getGoogleMapsLanguages:function(){return j},getLanguageKeyByLang:function(a){return"LANGS_"+a},getLanguageCode:function(){return d.languageCode}}}),define("util/compIcon/svgForComp",[],function(){"use strict";var a={"default":"default","wysiwyg.viewer.components.WRichText":"text","wysiwyg.viewer.components.MediaRichText":"text","wysiwyg.viewer.components.WPhoto":"wPhoto","wysiwyg.viewer.components.MatrixGallery":"galleries","wysiwyg.viewer.components.SlideShowGallery":"galleries","wysiwyg.viewer.components.SliderGallery":"galleries","wysiwyg.viewer.components.PaginatedGridGallery":"galleries","wysiwyg.viewer.components.Video":"video","wysiwyg.viewer.components.SoundCloudWidget":"soundCloud","wysiwyg.viewer.components.AudioPlayer":"audioPlayer","mobile.core.components.Container":"container","wysiwyg.viewer.components.VerticalLine":"verticalLine","wysiwyg.viewer.components.FiveGridLine":"horizontalLine","wysiwyg.viewer.components.ClipArt":"WPhoto","wysiwyg.viewer.components.SiteButton":"button","wysiwyg.common.components.imagebutton.viewer.ImageButton":"imageButton","wysiwyg.viewer.components.ItunesButton":"itunesButton","wysiwyg.viewer.components.menus.DropDownMenu":"horizontalMenu","wysiwyg.viewer.components.documentmedia.DocumentMedia":"documentMedia","wysiwyg.viewer.components.HorizontalMenu":"horizontalMenu","wysiwyg.common.components.verticalmenu.viewer.VerticalMenu":"verticalMenu","wysiwyg.viewer.components.mobile.TinyMenu":"tinyMenu","wysiwyg.viewer.components.WFacebookLike":"facebook","wysiwyg.common.components.facebooklikebox.viewer.FacebookLikeBox":"facebook","wysiwyg.viewer.components.WFacebookComment":"facebook","wysiwyg.viewer.components.WTwitterFollow":"twitter","wysiwyg.viewer.components.WTwitterTweet":"twitter","wysiwyg.viewer.components.TwitterFeed":"twitter","wysiwyg.viewer.components.WGooglePlusOne":"googlePlus","wysiwyg.viewer.components.LinkBar":"linkBar","tpa.viewer.components.TPASection":"appMarket","tpa.viewer.components.TPAWidget":"appMarket","wysiwyg.viewer.components.tpapps.TPASection":"appMarket","wysiwyg.viewer.components.tpapps.TPAMultiSection":"appMarket","wysiwyg.viewer.components.tpapps.TPAWidget":"appMarket","wysiwyg.viewer.components.tpapps.TPAGluedWidget":"appMarket","tpa.viewer.components.TPAGallery":"galleries","tpa.viewer.components.TPAComponent":"appMarket","wysiwyg.viewer.components.ContactForm":"contactForm","wysiwyg.viewer.components.GoogleMap":"googleMaps","wysiwyg.viewer.components.HtmlComponent":"htmlComponent","wysiwyg.viewer.components.FlashComponent":"flashComponent","wysiwyg.viewer.components.PayPalButton":"paypal","wysiwyg.viewer.components.FlickrBadgeWidget":"flicker","wysiwyg.viewer.components.AdminLogin":"webMasterLogin","wysiwyg.viewer.components.AdminLoginButton":"webMasterLogin","wysiwyg.viewer.components.LoginButton":"memberLogin","wixapps.integration.components.AppPart":"blog","wixapps.integration.components.AppPart2":"listBuilder","wysiwyg.viewer.components.svgshape.SvgShape":"svgShape","wysiwyg.common.components.subscribeform.viewer.SubscribeForm":"contactForm","wysiwyg.common.components.singleaudioplayer.viewer.SingleAudioPlayer":"singleAudioPlayer","wysiwyg.viewer.components.BgImageStrip":"strip","wysiwyg.common.components.youtubesubscribebutton.viewer.YouTubeSubscribeButton":"youtubeSubscribe","wysiwyg.viewer.components.HeaderContainer":"headerContainer","wysiwyg.viewer.components.FooterContainer":"footerContainer","wysiwyg.common.components.pinitpinwidget.viewer.PinItPinWidget":"pinterset","wysiwyg.common.components.pinterestpinit.viewer.PinterestPinIt":"pinterset","wysiwyg.viewer.components.PinterestFollow":"pinterset","wysiwyg.common.components.skypecallbutton.viewer.SkypeCallButton":"skype","wysiwyg.viewer.components.VKShareButton":"vkShare","wysiwyg.common.components.spotifyfollow.viewer.SpotifyFollow":"spotifyFollow","wysiwyg.common.components.spotifyplayer.viewer.SpotifyPlayer":"spotifyFollow","wysiwyg.common.components.anchor.viewer.Anchor":"anchor","wysiwyg.common.components.rssbutton.viewer.RSSButton":"rssButton","wysiwyg.common.components.verticalanchorsmenu.viewer.VerticalAnchorsMenu":"anchor"};return{getSvgNameForComp:function(b){return a[b]?a[b]:a["default"]}}}),define("util/compIcon/compIcon",["lodash","util/compIcon/svgForComp","util/imageService/imageTransform"],function(a,b,c){"use strict";function g(a,b,d){var g=d.components.data.get(a);if(b=b||{width:f,height:f},"ImageList"!==g.type&&"Image"!==g.type)return null;var h;h="ImageList"===g.type?g.items[0]:g;var i=c.getData(c.fittingTypes.SCALE_TO_FILL,{width:h.width,height:h.height,id:h.uri},{width:b.width||f,height:b.height||f,alignment:c.alignTypes.CENTER,htmlTag:"bg"});return{url:e+i.uri,css:i.css.container}}function h(c,e,f,h){var i,j,k;if(a.contains(d,e)){var l=g(c,f,h);i=l.url,k=l.css}else j=b.getSvgNameForComp(e);return{src:i,svgName:j,css:k}}var d=["wysiwyg.viewer.components.ClipArt","wysiwyg.viewer.components.MatrixGallery","wysiwyg.viewer.components.SliderGallery","wysiwyg.viewer.components.SlideShowGallery","wysiwyg.viewer.components.PaginatedGridGallery","wysiwyg.viewer.components.WPhoto"],e="http://static.wixstatic.com/media/",f=50;return{getCompIconInfo:h}}),define("util/keyboardShortcuts/keyboardShortcuts",["lodash","keyboardMaster"],function(a,b){"use strict";function k(a){var b=(a.target||a.srcElement).tagName;if("INPUT"===b){var c=a.metaKey||a.ctrlKey,d=90===a.keyCode||89===a.keyCode;return c&&d?(a.preventDefault(),!0):!1}return!("SELECT"===b||"TEXTAREA"===b)}function l(){e=h,u(f)}function m(){n()||(v(e),e=null)}function n(){return t()!==f}function o(b,c){r(b)&&c&&(d[b]&&p(b),d[b]=c,a.forOwn(c,function(a,c){q(c,b,a)}))}function p(a){r(a)&&(i.deleteScope(a),d[a]={})}function q(b,c,d){!a.isEmpty(b)&&d&&r(c)&&i(b,c,d)}function r(b){return!a.isEmpty(b)}function s(){u(g)}function t(){return h}function u(a){n()&&v(a)}function v(a){h=a,i.setScope(a)}function w(b,c){var e={},f=d[b]||{};return a.extend(e,f),a.extend(e,c),e}var c={TOP_CONTEXT:"all",EDITOR:"EDITOR",BASE_EDITOR:"BASE_EDITOR",PIN_MODE:"PIN_MODE",PREVIEW:"PREVIEW",TOP_BAR:"TOP_BAR",MENU_BAR:"MENU_BAR",MODAL_PANEL:"MODAL_PANEL",AUTOMATIC:"AUTOMATIC"},d={TOP_CONTEXT:{},EDITOR:{},PREVIEW:{},TOP_BAR:{}},e=null,f="!DISABLED!",g=c.TOP_CONTEXT,h=g,i=b.noConflict(),j={space:"space",up:"up",down:"down",left:"left",right:"right",home:"home",end:"end",pageUp:"pageup",pageDown:"pagedown",del:"del",esc:"esc",enter:"enter",backspace:"backspace",tab:"tab",alt:"alt",option:"option",shift:"shift",ctrl:"ctrl",command:"command"};return i.filter=k,{CONTEXTS:c,disable:l,enable:m,isEnabled:n,specialKeys:j,extendContext:w,getContext:t,setContext:u,clearContext:s,registerContext:o,unregisterContext:p}}),define("util/colors/colorConversions",["lodash"],function(a){"use strict";function b(a,b){var c=a>0?a%b:(b+a)%b;return c}function c(a){var b=a.toString(16),c=1===b.length?"0"+b:b;return c.toUpperCase()}function d(a){var b=a.hue,c=a.saturation,d=a.brightness;if(0>b||b>359)return console.error("hue is out of range"),null;var g,h,i,e=c/100,f=d/100,j=e*f,k=j*(1-Math.abs(b/60%2-1)),l=f-j;switch(Math.floor(b/60)){case 0:g=j,h=k,i=0;break;case 1:g=k,h=j,i=0;break;case 2:g=0,h=j,i=k;break;case 3:g=0,h=k,i=j;break;case 4:g=k,h=0,i=j;break;case 5:g=j,h=0,i=k}return{red:Math.round(255*(g+l)),green:Math.round(255*(h+l)),blue:Math.round(255*(i+l))}}function f(a){var c,d,e,f=a.red,g=a.green,h=a.blue,i=f/255,j=g/255,k=h/255,l=Math.max(i,j,k),m=Math.min(i,j,k),n=l-m;if(0===n)c=0;else switch(l){case i:c=60*b((j-k)/n,6);break;case j:c=60*((k-i)/n+2);break;case k:c=60*((i-j)/n+4)}return d=0===l?0:n/l,e=l,{hue:c,saturation:100*d,brightness:100*e}}function g(a){var b=f(a);return{hue:Math.round(b.hue),saturation:Math.round(b.saturation),brightness:Math.round(b.brightness)}}function h(a){var g,b=a.hue,c=a.saturation,d=a.brightness,e=c/100,f=d/100,h={hue:b,saturation:0,lightness:0};return g=.5*f*(2-e),h.lightness=Math.round(100*g),h.saturation=Math.round(100*(f*e)/(1-Math.abs(2*g-1))),h}function i(a){var g,b=a.hue,c=a.saturation,d=a.lightness,e=c/100,f=d/100,h={hue:b,saturation:0,brightness:0};return g=.5*(2*f+e*(1-Math.abs(2*f-1))),h.saturation=Math.round(200*(g-f)/g),h.brightness=Math.round(100*g),h}function j(a){return"#"+c(a.red)+c(a.green)+c(a.blue)}function k(a){var b=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);return b?{red:parseInt(b[1],16),green:parseInt(b[2],16),blue:parseInt(b[3],16)}:null}function n(b){var c=/rgb\((.+)\)/,d=a.map(c.exec(b)[1].split(","),function(a){return parseInt(a,10)});return a.zipObject(["red","green","blue"],d)}function o(b){return"rgb("+a.values(b).join(",")+")"}function p(b){var c=/rgba\((.+)\)/,d=a.map(c.exec(b)[1].split(","),function(a){return parseFloat(a,10)});return a.zipObject(["red","green","blue","alpha"],d)}function q(b){return"rgba("+a.values(b).join(",")+")"}function r(b){return a.isString(b)?b=l(b):b.red?b=g(b):b.lightness&&(b=i(b)),Math.sqrt(Math.pow(100-b.brightness,2)+Math.pow(b.saturation,2))}function s(b,c,d){var g,h,i,j,k,f=5,l=[];a.isString(b)&&(b=m(b)),g=b.brightness,h=r(b),i=Math.floor(5*g/(g+h));for(var n=0;f>n;n++)j=b.saturation,i>n?k=(n+1)/(i+1)*g:n===i?k=g:(k=(n-i)/(5-i)*(100-g)+g,j=b.saturation/(n-i+1)),l.unshift(e({hue:b.hue,saturation:j,brightness:k}));if(!a.isEmpty(c)&&d){var o=m(c[d[0]]),p=m(c[d[4]]);r(o)>r(p)&&l.reverse(),l=a.zipObject(d,l)}return l}function t(b){return a.contains(b,"rgba")?j(p(b)):a.contains(b,"rgb")?j(n(b)):b}var e=a.compose(j,d),l=a.compose(g,k),m=a.compose(f,k);return{rgbToHsb:g,rgbToHsbExact:f,rgbToHex:j,hsbToRgb:d,hsbToHex:e,hexToRgb:k,hexToHsb:l,hexToHsbExact:m,hslToHsb:i,hsbToHsl:h,rgbStringToObject:n,rgbObjectToString:o,rgbaStringToObject:p,rgbaObjectToString:q,getDistanceToWhite:r,
createGradientColorsFromRoot:s,getColorInHex:t}}),define("util/serviceTopology/serviceTopology",[],function(){"use strict";return window.serviceTopology}),define("util/media/media",["staticAssets","util/serviceTopology/serviceTopology"],function(a,b){"use strict";var c=a.staticAssetsMap;return{getMediaUrl:function(a){var d=b.editorMediaUrl||"http://static.parastorage.com/services/santa-resources/resources/editor",e=c[a]||a;return e&&"/"===e[0]&&(e=e.substr(1)),[d,e].join("/")},getAssetUrl:function(a){var b="http://assets.parastorage.com";return a="/"===a[0]?a.substr(1):a,[b,a].join("/")}}}),define("util/svg/svgUrlParser",[],function(){"use strict";function a(a){var b=a.replace("_",".").replace("/",".").split(".");return[b[2],b[3],"svg_"+b[1],b[4]].join(".")}function b(a){var b=/^shapes\/([a-z0-9]{32})\.svg$/i,c=b.exec(a),d=c[1];return"svgshape.v2.Svg_"+d}return{parseSvgSkinFromUrl:function(d){return-1!==d.indexOf(".v1.")?a(d):b(d)}}}),define("util/imageOrganizerUtils/imageOrganizerUtils",["util/translation/translate","util/editorModel/editorModel","experiment!organizeimagesrestyled","experiment!organizeimagessettingsdialog"],function(a,b,c,d){"use strict";function f(b){b.ORGANIZE_IMAGES_DIALOG_TITLE=a("ORGANIZE_ICONS_DIALOG_TITLE"),b.ORGANIZE_IMAGES_DIALOG_DESC=a("ORGANIZE_ICONS_DIALOG_TEXT"),b.ORGANIZE_IMAGES_DIALOG_ADD=a("ORGANIZE_ICONS_BUTTON_TEXT"),b.ORGANIZE_IMAGES_DIALOG_EMPTY_MSG=a("ORGANIZE_ICONS_DIALOG_EMPTY_MSG"),b.ORGANIZE_IMAGES_DIALOG_REPLACE=a("ORGANIZE_ICONS_DIALOG_REPLACE"),b.ORGANIZE_IMAGES_DIALOG_IMG_LINK=a("ORGANIZE_ICONS_DIALOG_IMG_LINK"),b.ORGANIZE_IMAGES_DIALOG_IMG_LINK_PLACEHOLDER=a("ORGANIZE_ICONS_DIALOG_IMG_LINK_PLACEHOLDER"),b.ORGANIZE_IMAGES_DIALOG_NO_IMG_SELECTED=a("ORGANIZE_ICONS_DIALOG_NO_IMG_SELECTED")}function g(b){var c=e,d={};return c.forEach(function(b){d[b]=a(b)}),"socialIcons"===b&&f(d),{lang:"EN",map:d}}function h(a){var e=b.editorBase||"/editor-base",f=c?"OrganizeImagesV2":"OrganizeImages",g=d?"organizeimagessettingsdialog":"",h=g?"&experiments="+g:"";return e+"/app/external/"+f+"/index.html?galleryType="+a+h}var e=["ORGANIZE_ICONS_DIALOG_TITLE","OrganizeImages_IMAGES_DIALOG_TITLE","ORGANIZE_IMAGES_DIALOG_DESC","ORGANIZE_IMAGES_DIALOG_ADD","ORGANIZE_IMAGES_DIALOG_REPLACE","ORGANIZE_IMAGES_DIALOG_DONE","ORGANIZE_IMAGES_DIALOG_CANCEL","ORGANIZE_IMAGES_DIALOG_NO_IMG_SELECTED","ORGANIZE_IMAGES_DIALOG_IMG_TITLE","ORGANIZE_IMAGES_DIALOG_IMG_DESC","ORGANIZE_IMAGES_DIALOG_IMG_TITLE_PLACEHOLDER","ORGANIZE_IMAGES_DIALOG_IMG_DESC_PLACEHOLDER","ORGANIZE_IMAGES_DIALOG_IMG_LINK","ORGANIZE_IMAGES_DIALOG_IMG_LINK_PLACEHOLDER","ORGANIZE_IMAGES_DIALOG_IMG_TITLE_TOOLTIP","ORGANIZE_IMAGES_DIALOG_IMG_DESC_TOOLTIP","ORGANIZE_IMAGES_DIALOG_EMPTY_MSG","ORGANIZE_IMAGES_DIALOG_CONFIRM_YES","ORGANIZE_IMAGES_DIALOG_CONFIRM_NO","ORGANIZE_IMAGES_DIALOG_CONFIRM_HEADER","ORGANIZE_IMAGES_DIALOG_CONFIRM_MSG","ORGANIZE_IMAGES_DIALOG_SETS_TITLE","ORGANIZE_IMAGES_DIALOG_SETS_ADD_PLACE","Organize_Images_Dialog_Sets_Add_Title","Organize_Images_Dialog_Sets_Button_Set","Organize_Images_Dialog_Sets_Add_Place_Start","Organize_Images_Dialog_Sets_Add_Place_End","Organize_Images_Dialog_Sets_Add_Place_After","Organize_Images_Dialog_Sets_Add_Title_With","Organize_Images_Dialog_Sets_Add_Title_Without"];return{getTranslation:g,getFrameUrl:h}}),define("util/editorSessionUtil/editorSessionUtil",["util/url/url"],function(a){"use strict";return{editorSessionId:a.parseUrl(window.location.href).query.editorSessionId}}),define("util/polyfills/polyfills",[],function(){"use strict";function a(){Math.sign=Math.sign||function(a){return a=+a,0===a||isNaN(a)?a:a>0?1:-1}}return{register:a}}),define("util/browser/browserUtil",[],function(){"use strict";function b(a){var b=c();return b&&-1!==b.indexOf(a)}function c(){return navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase()}function d(){return b(a.MAC)}function e(){return b(a.CHROME)}function f(){return b(a.IE)}function g(){return b(a.SAFARI)}function h(a){return d()?a.metaKey:a.ctrlKey}function i(){return window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI}var a={MAC:"macintosh",CHROME:"chrome",IE:"msie",SAFARI:"safari"};return{isMacintosh:d,isChrome:e,isIE:f,isSafari:g,getUserAgent:c,getDevicePixelRatio:i,isSpecialKeyPressed:h}}),define("util/automationUtil/bi/bi",[],function(){"use strict";function b(){return a&&a.length?a:"There is no BI events"}function c(b){if(a&&a.length){for(var c=0;c<a.length;c++)if(a[c][0].evid===b)return a[c];return"BI event with id = "+b+" was not found"}return"There is no BI events"}function d(b){if(a&&a.length){for(var c=0;c<a.length;c++)if(a[c][1].panel_name===b)return a[c];return"BI event with name = "+b+" was not found"}return"There is no BI events"}function e(){return a.length}function f(){return a&&a.length&&(a=[]),"BI array is empty"}function g(b,c){return b&&c?(a.push([b,c]),a):"expected objects type"}function h(){return a&&a.length?a.splice(a.length-1,1)[0]:null}function i(){return a&&a.length?a[a.length-1]:"the is no BI events"}var a=[];return{getAll:b,getById:c,getByName:d,getSize:e,clear:f,add:g,pop:h,top:i}}),define("util/automationUtil/automationUtil",["util/automationUtil/bi/bi"],function(a){"use strict";function c(a,b){console.log(a),console.log(b),window.testApi.bi.add(a,b)}var b=function(){function a(a,b){b=b.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var c=new RegExp("[\\?&]"+b+"=([^&#]*)"),d=c.exec(a);return null===d?"":decodeURIComponent(d[1].replace(/\+/g," "))}function b(b,c){return"true"===a(b,c)}return{getParameterFromQuery:a,isParameterTrueInQuery:b,getParameterByName:a.bind(null,window.location.search),isParameterTrue:b.bind(null,window.location.search)}}();return{onPreviewReady:function(a){b.getParameterByName("isqa")&&(a.bi.event=c)},bi:a}}),define("util/mixins/singlePassDOMReadWriteMixin",["lodash"],function(a){"use strict";function e(a,b){c++,d.push({comp:a,phase:b})}function f(){if(c--,0===c){var b=a.map(d,function(a){return a.comp.measurePhase(a.phase)});a.map(d,function(a,c){a.comp.patchPhase(b[c],a.phase)}),d=[]}}var b={MOUNT:"mount",UPDATE:"update"},c=0,d=[];return{componentWillMount:function(){e(this,b.MOUNT)},componentWillUpdate:function(){e(this,b.UPDATE)},componentDidMount:f,componentDidUpdate:f,componentWillUnmount:function(){d=a.reject(d,{comp:this})},LIFECYCLE_PHASES:b}}),define("util/layout/layoutUtils",["lodash"],function(a){"use strict";function c(b,c){c=c||{},c=a(c).defaults({x:0,y:0}).pick(["x","y"]).value();var d=a.assign({},b,{x:b.x+c.x,y:b.y+c.y});return a.pick(d,a.isFinite)}function d(d,e,g,h){var i=d.components.layout.getPositionAndSize(e),j=f(g,h),k=c(i,j);a.assign(k,a.pick(g,["width","height","rotationInDegrees"]));var l=a.pick(k,b);return l}function e(a,b){return a.x>=b.x&&a.x+a.width<=b.x+b.width&&a.y>=b.y&&a.y+a.height<=b.y+b.height}function f(b,c){b=a.pick(b,["x","y"]),c=a.pick(c,["x","y"]);var d={x:b.x-c.x,y:b.y-c.y};return a.pick(d,a.isFinite)}function g(b,c){var d={x:b.x/c.width,y:b.y/c.height,width:b.width/c.width,height:b.height/c.height};return a.pick(d,a.isFinite)}function h(b,c){var d={x:b.width*c.x,y:b.height*c.y,width:b.width*c.width,height:b.height*c.height};return a.pick(d,a.isFinite)}function i(a,b,d){var e=a.components.layout.get(b),g=f(e,d),h=a.components.layout.getRelativeToScreen(b),i=c(h,g);return i}function j(a,b,c){var e=a.components.layout.getRelativeToScreen(b),f=d(a,b,c,e);return f}function k(a,b,c){var e=a.components.layout.getRelativeToStructure(b),f=d(a,b,c,e);return f}var b=["x","y","width","height","rotationInDegrees"];return{addXYOffsetsToLayout:c,getLayoutsXYDiff:f,isLayoutContainedWithinRect:e,getChildContainerLayoutRatio:g,calcLayoutFromLayoutAndRatio:h,getLayoutRelativeToScreenFromRelativeToParent:i,getLayoutRelativeToParentFromRelativeToScreen:j,getLayoutRelativeToParentFromRelativeToStructure:k}}),define("util/newrelic/newrelic",["lodash","util/url/url"],function(a,b){"use strict";function e(b){return!d&&c&&a.isFunction(c[b])}var c=window.newrelic,d=b.isTrue("isQA"),f="undefined"!=typeof window&&window.performance&&window.performance.now?function(){return Math.round(window.performance.now())}:function(){return 0};return{setCustomAttribute:e("setCustomAttribute")?c.setCustomAttribute.bind(c):a.noop,addPageAction:e("addPageAction")?function(b,d){var e=f();return d=a.assign(e?{timeSinceNavigate:e}:{},d||{}),c.addPageAction(b,d)}:a.noop,finished:e("finished")?function(){var a=f();return a&&this.setCustomAttribute("timeSinceNavigate",f()),c.finished.apply(c,arguments)}:a.noop}}),define("util/fontLangsFallbacks/fontLangsFallbacks",["lodash"],function(a){"use strict";function c(a,b,c){return Math.min(parseInt(c,10),a)+"px"}var b={ru:{anton:"Play",basic:"Open Sans",caudex:"Forum","chelsea market":"Open Sans",corben:"Forum",enriqueta:"Droid Serif","fredericka the great":"EB Garamond","jockey one":"Kelly Slab","josefin slab":"Courier New","lucida console":"Open Sans","lucida sans unicode":"Open Sans","mr de haviland":"Marck Script",niconne:"Marck Script","noticia text":"Droid Serif",overlock:"Open Sans","palatino linotype":"EB Garamond","patrick hand":"comic Sans MS",sarina:"Lobster",signika:"Open Sans",spinnaker:"Open Sans",tahoma:"Open Sans","stencil-w01-bold":"bodoni-w01-poster","itc-arecibo-w01-regular":"Kelly slab","avenida-w01":"Kelly slab","pacifica-w00-condensed":"Open Sans Condensed","geotica-w01-four-open":"bodoni-w01-poster","aarzo-w00-regular":"Verdana","braggadocio-w01":"bodoni-w01-poster","reklamescriptw00-aedium":"Lobster","snellroundhandw01-scrip":"Marck Script","helvetica-w01-light":"helvetica-w01-roman","nimbus-sans-tw01con":"Open Sans Condensed","soho-w01-thin-condensed":"Open Sans Condensed","clarendon-w01-aedium-692107":"Georgia","museo-w01-700":"Courier New","museo-slab-w01-100":"Courier New","americantypwrteritcw01--731025":"Courier New",monoton:"Arial Black",sacramento:"Marck Script",cookie:"Lobster",raleway:"helvetica-w01-roman","amatic sc":"Open Sans Condensed","coquette-w00-light":"Marck Script","rosewood-w01-regular":"bodoni-w01-poster"},ja:{anton:"ｍｓ ｐゴシック",arial:"ｍｓ ｐゴシック","courier new":"ｍｓ ｐゴシック","arial black":"ｍｓ ｐゴシック",basic:"ｍｓ ｐゴシック",caudex:"ｍｓ 明朝","chelsea market":"ｍｓ 明朝","comic sans ms":"メイリオ",corben:"ｍｓ 明朝","eb garamond":"ｍｓ 明朝",enriqueta:"ｍｓ ｐ明朝",forum:"ｍｓ ｐ明朝","fredericka the great":"ｍｓ ｐゴシック",georgia:"ｍｓ 明朝",impact:"ｍｓ ｐゴシック","jockey one":"ｍｓ ゴシック","josefin slab":"ｍｓ 明朝",jura:"ｍｓ 明朝","kelly slab":"ｍｓ ゴシック","lucida console":"ｍｓ ｐゴシック","lucida sans unicode":"ｍｓ ｐゴシック","marck script":"ｍｓ 明朝",lobster:"ｍｓ ｐゴシック","mr de haviland":"ｍｓ 明朝",niconne:"ｍｓ 明朝","noticia text":"メイリオ","open sans":"ｍｓ ｐゴシック",overlock:"メイリオ","palatino linotype":"メイリオ","patrick hand":"ｍｓ 明朝",play:"ｍｓ ｐゴシック",sarina:"ｍｓ ｐゴシック",signika:"ｍｓ ｐゴシック",spinnaker:"ｍｓ ｐゴシック",tahoma:"ｍｓ ｐゴシック","times new roman":"ｍｓ ｐ明朝",verdana:"ｍｓ ｐゴシック","bodoni-w01-poster":"ｍｓ ｐゴシック","stencil-w01-bold":"ｍｓ ｐゴシック","itc-arecibo-w01-regular":"ｍｓ ｐゴシック","avenida-w01":"ｍｓ ｐ明朝","pacifica-w00-condensed":"ｍｓ 明朝","geotica-w01-four-open":"ｍｓ ｐゴシック","marzo-w00-regular":"ｍｓ ｐ明朝","braggadocio-w01":"ｍｓ ｐゴシック","reklamescriptw00-medium":"ｍｓ ｐゴシック","snellroundhandw01-scrip":"ｍｓ 明朝","din-next-w01-light":"ｍｓ 明朝","helvetica-w01-roman":"メイリオ","helvetica-w01-light":"メイリオ","helvetica-w01-bold":"ｍｓ ｐゴシック","nimbus-sans-tw01con":"メイリオ","soho-w01-thin-condensed":"ｍｓ 明朝","droid-serif-w01-regular":"ｍｓ ゴシック","clarendon-w01-medium-692107":"ｍｓ ｐゴシック","museo-w01-700":"ｍｓ ｐゴシック","museo-slab-w01-100":"ｍｓ ｐゴシック","americantypwrteritcw01--731025":"ｍｓ 明朝",monoton:"メイリオ",sacramento:"ｍｓ ｐ明朝",cookie:"ｍｓ ｐ明朝",raleway:"メイリオ","open sans condensed":"メイリオ","amatic sc":"ｍｓ ｐ明朝","coquette-w00-light":"ｍｓ ｐ明朝","rosewood-w01-regular":"ｍｓ ゴシック"},tr:{"amatic sc":"comic sans ms","bodoni-w01-poster":"open sans condensed","braggadocio-w01":"arial black","chelsea market":"comic sans ms",corben:"noticia text","fredericka the great":"clarendon-w01-medium-692107","geotica-w01-four-open":"anton","itc-arecibo-w01-regular":"kelly slab","josefin slab":"american typewriter","lucida sans unicode":"open sans","marzo-w00-regular":"open sans condensed","mr de haviland":"marck script","museo-w01-700":"enriqueta","museo-slab-w01-100":"courier new",niconne:"cookie","nimbus-sans-tw01con":"open sans condensed",overlock:"open sans","pacifica-w00-condensed":"jura",raleway:"helvetica-w01-light","rosewood-w01-regular":"clarendon-w01-medium-692107","snellroundhandw01-scrip":"cookie",spinnaker:"helvetica-w01-roman","stencil-w01-bold":"impact","soho-w01-thin-condensed":"Open Sans Condensed","helvetica-w01-light":"open sans condensed","helvetica-w01-bold":"arial black",monoton:"reklamescriptw00-medium","americantypwrteritcw01--731025":"forum","din-next-w01-light":"open sans condensed"},pl:{"helvetica-w01-light":"open sans condensed","soho-w01-thin-condensed":"amatic sc","bodoni-w01-poster":"anton","braggadocio-w01":"impact","stencil-w01-bold":"impact",monoton:"reklamescriptw00-medium","geotica-w01-four-open":"sacramento","mr de haviland":"amatic sc","americantypwrteritcw01--731025":"amatic sc","din-next-w01-light":"helvetica-w01-roman","museo-slab-w01-100":"Courier New",raleway:"helvetica-w01-roman",overlock:"Open Sans","museo-w01-700":"enriqueta"}};return{getFallbackFontsForLang:function(a){return b[a]},getFontFallbackIfNeeded:function(a,c){return b[a]&&b[a][c]?b[a][c]:c},getUpdatedFonts:function(d,e,f){return a.reduce(d,function(d,g,h){return d[h]=a.reduce(b[e],function(a,b,c){return a.replace(c,b.replace(/ /g,"+").toLowerCase())},g),a.isNumber(f)&&f>0&&(d[h]=d[h].replace(/(\d+)px/,c.bind(null,f))),d},{})}}}),define("util/background/backgroundPanelUtils",["lodash","util/serviceTopology/serviceTopology","util/imageService/imageTransform","util/url/url","color"],function(a,b,c,d,e){"use strict";function i(a,b,c,d){return c>a&&d>b}function j(a,b,d,e,f,g,h,i){var j={id:d,width:e,height:f},k={width:g,height:h,alignment:b,htmlTag:"bg"};return c.getData(a,j,k,{quality:i||85})}function k(a,b){return b?(/color_/.test(b)&&(b=a.theme.colors.get(b.replace(/[\{\}]/g,""))),b):""}function l(a,b){var c=k(b,a.colorOverlay);return{backgroundImage:a.imageOverlay?"url("+d.joinURL(f,a.imageOverlay.uri)+")":null,backgroundColor:c?e(c).alpha(a.colorOverlayOpacity?a.colorOverlayOpacity:0).cssa():null}}function m(b,c){var d=b[0],e=a.first(d.fileOutput.image),f=a.groupBy(d.fileOutput.video,"quality"),g=a.pick(e,["width","height","url"]);g.type="Image",g.uri=g.url.replace(/^(.*[\/])/,""),delete g.url,g.description=c.path;var h={type:"WixVideo",title:d.title,videoId:d.fileBaseUrl,duration:Math.round(d.fileInput.duration/1e3),posterImageRef:g,opacity:1,autoplay:!0,loop:!0,preload:"auto",mute:!0,artist:{name:d.vendor||"",id:d.reference||""}};return h.qualities=a.map(f,function(b){var c=a.pluck(b,"format"),d=a.pick(b[0],["width","height","quality"]);return d.formats=c,d}),h}function n(a,b){var c=a[0];return{type:"Image",uri:c.fileName,title:c.title,description:b.path,width:c.width,height:c.height,artist:{name:c.vendor||"",id:c.reference||""}}}function o(){return h}function p(a){var b=a.mediaRef,c=h.COLOR;return b&&(c=b.type),c}var f=b.staticMediaUrl,g=b.staticVideoUrl,h={COLOR:"Color",IMAGE:"Image",VIDEO:"WixVideo"};return{VIDEO_URL_PREFIX:g,MEDIA_URL_PREFIX:f,getOverlayStyle:l,isSmallerFromContainer:i,getImageDisplayData:j,getColorValue:k,getVideoBackgroundObject:m,getImageBackgroundObject:n,getMediaTypes:o,getMediaType:p}}),define("util/mouseScaleHandler/mouseScaleHandler",[],function(){"use strict";function a(a,b,c){var d=a.editorConfig.previewTop,e=document.body.offsetWidth,f=(e-e*c)/2;b.originalPageX=b.pageX,b.originalPageY=b.pageY,b.originalClientX=b.clientX,b.originalClientY=b.clientY,1!==c&&(b.pageX=(b.pageX-f)/c,b.pageY=(b.pageY-d)/c+d,b.clientX/=c,b.clientY/=c)}return{fitMouseCoordinatesToScale:a}}),define("util/layout/pinModeUtils",["lodash"],function(a){"use strict";function c(a,b){switch(a){case"TOP_LEFT":case"TOP_RIGHT":case"BOTTOM_LEFT":case"BOTTOM_RIGHT":if(b.width>=500&&b.height>=500)return!0;break;case"TOP":case"BOTTOM":if(b.height>=300)return!0;break;case"LEFT":case"RIGHT":if(b.width>=500)return!0}return!1}function d(c){return a.findKey(b,function(b,d){return a.isEqual(a.keys(b),a.keys(c.docked))?d:void 0})}var b={TOP_LEFT:{top:{px:0},left:{px:0}},TOP:{top:{px:0},hCenter:{px:0}},TOP_RIGHT:{top:{px:0},right:{px:0}},LEFT:{left:{px:0},vCenter:{px:0}},RIGHT:{right:{px:0},vCenter:{px:0}},BOTTOM_LEFT:{bottom:{px:0},left:{px:0}},BOTTOM:{bottom:{px:0},hCenter:{px:0}},BOTTOM_RIGHT:{bottom:{px:0},right:{px:0}}};return{dockMap:b,checkSizeRestrictions:c,convertLayoutToDockValue:d}}),define("util",["util/validators/validate","util/validators/validationExpressions","util/link/linkRenderer","util/url/url","util/url/UrlBuilder","util/jsUtils/jsUtils","util/utils/guid","util/utils/string","util/utils/cookie","util/utils/animationFrame","util/utils/classNames","util/props/propTypesFilterMixin","util/translation/translate","util/translation/translationMixin","util/postMessage/postMessageMixin","util/mixins/draggableMixin","util/imageService/imageTransform","util/video/videoUtils","util/mixins/valueLinkMixin","util/mixins/selectionMixin","util/mixins/outerClickMixin","util/mixins/blockOuterScrollMixin","util/mixins/imagesContainerMixin","util/translation/languages","util/compIcon/compIcon","util/keyboardShortcuts/keyboardShortcuts","util/math/math","util/colors/colorConversions","util/media/media","util/bi/bi","util/serviceTopology/serviceTopology","util/svg/svgUrlParser","util/editorModel/editorModel","util/imageOrganizerUtils/imageOrganizerUtils","util/editorSessionUtil/editorSessionUtil","util/polyfills/polyfills","util/browser/browserUtil","util/automationUtil/automationUtil","util/mixins/singlePassDOMReadWriteMixin","util/layout/layoutUtils","util/newrelic/newrelic","util/fontLangsFallbacks/fontLangsFallbacks","util/background/backgroundPanelUtils","util/mouseScaleHandler/mouseScaleHandler","util/layout/pinModeUtils"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S){"use strict";return{validate:a,validationExpressions:b,linkRenderer:c,url:d,UrlBuilder:e,setDeepPath:f.setDeepPath,getDeepPath:f.getDeepPath,guidUtils:g,stringUtils:h,cookie:i,animationFrameUtils:j,inheritClassName:k.inheritClassName,propTypesFilterMixin:l,translate:m,translationMixin:n,languages:x,postMessageMixin:o,draggableMixin:p,imageTransform:q,videoUtils:r,valueLinkMixin:s,selectionMixin:t,outerClickMixin:u,blockOuterScrollMixin:v,imagesContainerMixin:w,compIcon:y,keyboardShortcuts:z,math:A,colors:B,media:C,bi:D,serviceTopology:E,svgUrlParser:F,editorModel:G,polyfills:J,imageOrganizerUtils:H,editorSessionUtil:I,browserUtil:K,automationUtil:L,singlePassDOMReadWriteMixin:M,layoutUtils:N,newrelic:O,fontLangsFallbacks:P,backgroundPanelUtils:Q,mouseScaleHandler:R,pinModeUtils:S}});