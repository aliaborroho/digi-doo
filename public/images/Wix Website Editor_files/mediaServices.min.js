define("mediaServices/services/wixMediaManager/presets",["experiment!BGPPVideoUpload"],function(a){"use strict";var b={SHAPE:{multiSelectDefault:!0,canAddMediaBeforeEncodingComplete:!1,tabsList:{open:["FREE_FROM_WIX"],manage:[],"default":"FREE_FROM_WIX"},socialNetworksList:[],mmgrParams:{i18nPrefix:["shape","multiple_shapes"],mediaType:"picture",publicMediaRoot:"shapes"}},IMAGE:{multiSelectDefault:!0,canAddMediaBeforeEncodingComplete:!1,tabsList:{open:["MY_IMAGE","MY_NETWORK","FREE_FROM_WIX","BIG_STOCK"],manage:["MY_IMAGE"],"default":"MY_IMAGE"},socialNetworksList:["FACEBOOK","INSTAGRAM","GOOGLE_DRIVE","FLICKER","PICASA"],mmgrParams:{i18nPrefix:["single_image","multiple_images"],mediaType:"picture",publicMediaRoot:"photos"}},MUSIC:{multiSelectDefault:!0,canAddMediaBeforeEncodingComplete:!1,tabsList:{open:["MY_MUSIC"],manage:["MY_MUSIC"],"default":"MY_MUSIC"},socialNetworksList:[],mmgrParams:{i18nPrefix:["music","addmultiple_music"],mediaType:"music",publicMediaRoot:""}},MUSIC_PRO:{multiSelectDefault:!0,canAddMediaBeforeEncodingComplete:!1,tabsList:{open:["MY_MUSIC_PRO"],manage:["MY_MUSIC_PRO"],"default":"MY_MUSIC_PRO"},socialNetworksList:[],mmgrParams:{i18nPrefix:["secure_music","addmultiple_secure_music"],mediaType:"secure_music",publicMediaRoot:""}},DOCUMENT:{multiSelectDefault:!0,canAddMediaBeforeEncodingComplete:!1,tabsList:{open:["MY_DOCUMENT"],manage:["MY_DOCUMENT"],"default":"MY_DOCUMENT"},socialNetworksList:[],mmgrParams:{i18nPrefix:["document","addmultiple_document"],mediaType:"document",publicMediaRoot:""}},FLASH:{multiSelectDefault:!1,canAddMediaBeforeEncodingComplete:!1,tabsList:{open:["MY_FLASH"],manage:[],"default":"MY_FLASH"},socialNetworksList:[],mmgrParams:{i18nPrefix:["flash","multiple_flash"],mediaType:"swf",publicMediaRoot:""}},CLIPART:{multiSelectDefault:!1,canAddMediaBeforeEncodingComplete:!1,tabsList:{open:["MY_IMAGE","MY_NETWORK","FREE_FROM_WIX","BIG_STOCK"],manage:[],"default":"MY_IMAGE"},socialNetworksList:["FACEBOOK","INSTAGRAM","GOOGLE_DRIVE","FLICKER","PICASA"],mmgrParams:{i18nPrefix:["clipart","addmultiple_clipart"],mediaType:"picture",publicMediaRoot:"clipart"}},BG_IMAGE:{multiSelectDefault:!1,canAddMediaBeforeEncodingComplete:!1,tabsList:{open:["MY_IMAGE","MY_NETWORK","FREE_FROM_WIX","BIG_STOCK"],manage:[],"default":"MY_IMAGE"},socialNetworksList:["FACEBOOK","INSTAGRAM","GOOGLE_DRIVE","FLICKER","PICASA"],mmgrParams:{i18nPrefix:["background","multiple_background"],mediaType:"picture",publicMediaRoot:"backgrounds"}},BG_VIDEO:{multiSelectDefault:!1,canAddMediaBeforeEncodingComplete:!0,tabsList:a?{open:["MY_VIDEO","FREE_FROM_WIX"],manage:[],"default":"MY_VIDEO"}:{open:["FREE_FROM_WIX"],manage:[],"default":"FREE_FROM_WIX"},socialNetworksList:[],mmgrParams:{i18nPrefix:["video","addmultiple_video"],mediaType:"video",publicMediaRoot:"videos"}},ICON_DOCUMENT:{multiSelectDefault:!1,canAddMediaBeforeEncodingComplete:!1,tabsList:{open:["MY_IMAGE","MY_NETWORK","FREE_FROM_WIX","BIG_STOCK"],manage:[],"default":"FREE_FROM_WIX"},socialNetworksList:["FACEBOOK","INSTAGRAM","GOOGLE_DRIVE","FLICKER","PICASA"],mmgrParams:{i18nPrefix:["single_icon","multiple_icons"],mediaType:"picture",publicMediaRoot:"file_icons"}},ICON_SOCIAL:{multiSelectDefault:!0,canAddMediaBeforeEncodingComplete:!1,tabsList:{open:["MY_IMAGE","MY_NETWORK","FREE_FROM_WIX","BIG_STOCK"],manage:[],"default":"FREE_FROM_WIX"},socialNetworksList:["FACEBOOK","INSTAGRAM","GOOGLE_DRIVE","FLICKER","PICASA"],mmgrParams:{i18nPrefix:["single_icon","multiple_icons"],mediaType:"picture",publicMediaRoot:"social_icons"}},ICON_FAVICON:{multiSelectDefault:!1,canAddMediaBeforeEncodingComplete:!1,tabsList:{open:["MY_FAVICON","BIG_STOCK"],manage:[],"default":"MY_FAVICON"},socialNetworksList:[],mmgrParams:{i18nPrefix:["favicon","multiple_favicons"],mediaType:"site_icon",publicMediaRoot:""}}};return b}),define("mediaServices/services/wixMediaManager/constants",["util"],function(a){"use strict";return{BASE_HOST:a.serviceTopology.baseDomain,MMGR_BASE_URL:a.serviceTopology.mediaManagerUrl,MMGR_LANGUAGE_CODE:a.editorModel.languageCode,MMGR_WINDOW_STYLE:"fullscreen",MMGR_SELECTION_TYPE:["single","multiple"],MMGR_TRANSLATION_KEYS_MAP:{description:{"private":"private_media.upload_restrictions_header_message",external:"social_images.upload_restrictions_header_message","public":"free_from_wix.upload_restrictions_header_message",photoStock:"bigstock_images.upload_restrictions_header_message"},title:"header",submitButton:"footer.submit",uploadButton:"uploader.upload"},MMGR_SERVICES_LIST_MAP:{FACEBOOK:"facebook",FLICKER:"flickr",INSTAGRAM:"instagram",PICASA:"picasa",GOOGLE_DRIVE:"drive"},SINGLE:0,MULTIPLE:1,MMGR_TABS_MAP:{MY_SHAPE:"private",MY_IMAGE:"private",MY_IMAGE_PRO:"private",MY_VIDEO:"private",MY_VIDEO_PRO:"private",MY_MUSIC:"private",MY_MUSIC_PRO:"private",MY_DOCUMENT:"private",MY_DOCUMENT_PRO:"private",MY_FLASH:"private",MY_FAVICON:"private",MY_NETWORK:"external",FREE_FROM_WIX:"public",BIG_STOCK:"photoStock"}}}),define("mediaServices/services/wixMediaManager/adapter",["lodash","jquery","mediaServices/services/wixMediaManager/presets","mediaServices/services/wixMediaManager/constants","util"],function(a,b,c,d,e){"use strict";function f(){var a=b("#editor");if(a){var c=b(window),d=c.scrollTop();a.trigger("focus"),c.scrollTop(d)}}function g(){return window.MediaFrame}function h(a,b){b=b||{};var d=c[a],e={multiSelect:!1,path:b.path||l(d.tabsList["default"]),translation:{},manageMode:!0};b.translation&&b.translation.title&&(e.translation.title=b.translation.title),b.callback&&(e.callback=b.callback),d.tabsList.manage.length>0?p(a,d,e):console.error(a+" is an unmanaged category")}function i(a,b){b=b||{};var d=c[a],e={multiSelect:void 0===b.multiSelect?d.multiSelectDefault:b.multiSelect,path:b.path||l(d.tabsList["default"]),translation:{},manageMode:!1};b.callback&&(e.callback=function(){b.callback.apply(null,arguments),window.focus()}),b.translation&&(b.translation.title&&(e.translation.title=b.translation.title),b.translation.submitButton&&(e.translation.submitButton=b.translation.submitButton)),p(a,d,e)}function j(a){return d.MMGR_SELECTION_TYPE[a?d.MULTIPLE:d.SINGLE]}function k(a,b){var c=a.mmgrParams.i18nPrefix;return c[b?d.MULTIPLE:d.SINGLE]}function l(a){return d.MMGR_TABS_MAP[a]}function m(b,c){for(var d=a.clone(c?b.tabsList.manage:b.tabsList.open),e=0;e<d.length;e++)d[e]=l(d[e]);return d}function n(b){for(var c=a.clone(b.socialNetworksList),e=0;e<c.length;e++)c[e]=d.MMGR_SERVICES_LIST_MAP[c[e]];return c}function o(b,c,f){var h,g={},i=f.manageMode,j=f.multiSelect,k=i?c.tabsList.manage:c.tabsList.open,m=f.multiSelect?"_MULTISELECT":"";return h=("MMGR_API_"+b+(i?"_MANAGE":"_OPEN")+"_TITLE"+(i?"":m)).toUpperCase(),g[d.MMGR_TRANSLATION_KEYS_MAP.title]=f.translation.title||e.translate(h),h=("MMGR_API_"+b+"_UPLOAD_BUTTON").toUpperCase(),g[d.MMGR_TRANSLATION_KEYS_MAP.uploadButton]=e.translate(h),h=("MMGR_API_"+b+"_SUBMIT_BUTTON"+(j?"_MULTISELECT":"")).toUpperCase(),g[d.MMGR_TRANSLATION_KEYS_MAP.submitButton]=f.translation.submitButton||e.translate(h),a.each(k,function(a){var b=d.MMGR_TRANSLATION_KEYS_MAP.description[l(a)];h=("MMGR_API_"+a+"_DESCRIPTION").toUpperCase(),g[b]=e.translate(h)}),g}function p(a,b,c){function i(a){if(c.callback){var b=a&&a.items||null,d=b&&{path:a.path}||null;c.callback(b,d)}e.off("close",i),e.off("items",i),f()}var e=g(),h={mediaGalleryBaseHost:d.MMGR_BASE_URL,baseHost:d.BASE_HOST,i18nCode:d.MMGR_LANGUAGE_CODE,windowStyle:d.MMGR_WINDOW_STYLE,selectionType:j(c.multiSelect),mediaType:b.mmgrParams.mediaType,i18nPrefix:k(b,c.multiSelect),canShowSelectButton:!c.manageMode,canSubmitUntranscoded:b.canAddMediaBeforeEncodingComplete,tabsList:m(b,c.manageMode),path:c.path};b.mmgrParams.publicMediaRoot&&(h.publicMediaRoot=b.mmgrParams.publicMediaRoot),b.socialNetworksList.length>0&&(h.servicesList=n(b)),h.translations=o(a,b,c),e.on("items",i).on("close",i),e.open(h),document.getElementById("mediaGalleryFrame").contentWindow.focus()}function q(){var b={};return a.each(a.keys(c),function(a){a=a.toUpperCase(),b[a]=a}),b}return function(){return{open:i,presets:c,manage:h,categories:q()}}}),define("mediaServices",["mediaServices/services/wixMediaManager/adapter"],function(a){"use strict";var b={mediaManager:new a},c={mediaManager:{manage:b.mediaManager.manage,open:b.mediaManager.open,presets:b.mediaManager.presets,categories:b.mediaManager.categories}};return{mediaManager:c.mediaManager}});